<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<PropertyGroup>
		
		<MexTools_MatlabPath>$([System.IO.Directory]::GetDirectories("$(ProgramFiles)\MATLAB").GetValue($([MSBuild]::Subtract($([System.IO.Directory]::GetDirectories("$(ProgramFiles)\MATLAB").Length), 1))))</MexTools_MatlabPath>
		<!--这句使用了.GetValue()而不是方括号索引，因为方括号索引中不能调用属性函数-->
		
		<MexTools_MatlabPath>$(MexTools_MatlabPath)\extern\</MexTools_MatlabPath>
		<TargetExt>.mexw64</TargetExt>
		<MexTools_Binaries>$(MSBuildThisFileDirectory)Release\</MexTools_Binaries>
		<MexTools_Binaries Condition="$(UseDebugLibraries)">$(MSBuildThisFileDirectory)Debug\</MexTools_Binaries>
	</PropertyGroup>
	<ItemDefinitionGroup>
		<ClCompile>
			<AdditionalIncludeDirectories>$(MexTools_MatlabPath)include;$(MexTools_Binaries);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
			<AdditionalBMIDirectories>$(MexTools_Binaries);%(AdditionalBMIDirectories)</AdditionalBMIDirectories>
			<LanguageStandard>stdcpplatest</LanguageStandard>
		</ClCompile>
		<ResourceCompile>
			<AdditionalIncludeDirectories>$(MexTools_MatlabPath)include;$(MexTools_Binaries);%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
			<AdditionalBMIDirectories>$(MexTools_Binaries);%(AdditionalBMIDirectories)</AdditionalBMIDirectories>
			<LanguageStandard>stdcpplatest</LanguageStandard>
		</ResourceCompile>
	</ItemDefinitionGroup>
	<PropertyGroup>
		<MexTools_MatlabPath>$(MexTools_MatlabPath)lib\win64\microsoft\</MexTools_MatlabPath>
	</PropertyGroup>
	<ItemDefinitionGroup>
		<Link>
			<AdditionalDependencies></AdditionalDependencies>
			<AdditionalDependencies>$(MexTools_MatlabPath)libMatlabDataArray.lib;$(MexTools_MatlabPath)libmex.lib;$(MexTools_Binaries)Mex工具.$(PlatformToolsetVersion).lib;%(AdditionalDependencies)</AdditionalDependencies>
		</Link>
	</ItemDefinitionGroup>
</Project>