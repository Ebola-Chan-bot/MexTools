<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
	<PropertyGroup>
		<MatlabPath>$([System.Linq.Enumerable]::Max([System.IO.Directory]::GetDirectories("$(ProgramFiles)\MATLAB")))\extern\</MatlabPath>
	</PropertyGroup>
	<ItemDefinitionGroup>
		<ClCompile>
			<AdditionalIncludeDirectories>$(MatlabPath)include;$(MSBuildThisFileDirectory)include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
		</ClCompile>
		<ResourceCompile>
			<AdditionalIncludeDirectories>$(MatlabPath)include;$(MSBuildThisFileDirectory)include;%(AdditionalIncludeDirectories)</AdditionalIncludeDirectories>
		</ResourceCompile>
	</ItemDefinitionGroup>
	<PropertyGroup>
		<MatlabPath>$(MatlabPath)lib\win64\microsoft\</MatlabPath>
	</PropertyGroup>
	<Choose>
		<!-- UseDebugLibraries is described in {VS2022}\Msbuild\Microsoft\VC\v170\1033\general_advanced.xml -->
		<When Condition="$(UseDebugLibraries)">
			<ItemDefinitionGroup>
				<Link>
					<AdditionalDependencies>$(MSBuildThisFileDirectory)lib\Mex工具.$(PlatformToolsetVersion).Debug.lib;%(AdditionalDependencies)</AdditionalDependencies>
				</Link>
			</ItemDefinitionGroup>
		</When>
		<Otherwise>
			<ItemDefinitionGroup>
				<Link>
					<AdditionalDependencies>$(MSBuildThisFileDirectory)lib\Mex工具.$(PlatformToolsetVersion).Release.lib;%(AdditionalDependencies)</AdditionalDependencies>
				</Link>
			</ItemDefinitionGroup>
		</Otherwise>
	</Choose>
	<ItemDefinitionGroup>
		<Link>
			<AdditionalDependencies>$(MatlabPath)libMatlabDataArray.lib;$(MatlabPath)libmex.lib;%(AdditionalDependencies)</AdditionalDependencies>
		</Link>
	</ItemDefinitionGroup>
</Project>